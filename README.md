# npgsqlDatabaseReader
my coursework. App for autoservice on postgres + any orm usage
sql code for database (created in postgres):

CREATE TABLE Positions (
id SERIAL NOT NULL PRIMARY KEY,
posName VARCHAR(50) NOT NULL
);
CREATE TABLE Employees (
id SERIAL NOT NULL PRIMARY KEY,
fullName VARCHAR(50) NOT NULL,
passportS INTEGER NOT NULL,
passportN INTEGER NOT NULL,
posID INTEGER NOT NULL,
FOREIGN KEY(posID) REFERENCES Positions (id)
);
CREATE TABLE Cars (
id SERIAL NOT NULL PRIMARY KEY,
carName VARCHAR(50) NOT NULL
);
CREATE TABLE WorkTypes (
id SERIAL NOT NULL PRIMARY KEY,
workName VARCHAR(50) NOT NULL
);
CREATE TABLE PartList (
id SERIAL NOT NULL PRIMARY KEY,
partListID INTEGER UNIQUE NOT NULL,
partName VARCHAR(50) NOT NULL,
WorkTypeID INTEGER NOT NULL,
FOREIGN KEY(WorkTypeID) REFERENCES WorkTypes (id)
);
CREATE TABLE WorkList (
id SERIAL NOT NULL PRIMARY KEY,
workListID INTEGER UNIQUE NOT NULL,
cost INTEGER NOT NULL,
workName VARCHAR(50) NOT NULL,
WorkTypeID INTEGER NOT NULL,
FOREIGN KEY(WorkTypeID) REFERENCES WorkTypes (id)
);
CREATE TABLE Work (
id SERIAL NOT NULL PRIMARY KEY,
partListID INTEGER NOT NULL,
carID INTEGER NOT NULL,
workListID INTEGER NOT NULL,
FOREIGN KEY(carID) REFERENCES Cars (id),
FOREIGN KEY(partListID) REFERENCES PartList (partListID),
FOREIGN KEY(workListID) REFERENCES WorkList (workListID)
);
CREATE TABLE Customers (
id SERIAL NOT NULL PRIMARY KEY,
customerName VARCHAR(50) NOT NULL
);
CREATE TABLE Commitions (
id SERIAL NOT NULL PRIMARY KEY,
workID INTEGER NOT NULL,
employeeID INTEGER NOT NULL,
customerID INTEGER NOT NULL,
FOREIGN KEY(workID) REFERENCES Work (id),
FOREIGN KEY(employeeID) REFERENCES Employees (id),
FOREIGN KEY(customerID ) REFERENCES Customers (id)
);
CREATE TABLE SystemTable (
id SERIAL NOT NULL PRIMARY KEY,
commandName VARCHAR(50) NOT NULL,
command VARCHAR(50) NOT NULL
);
